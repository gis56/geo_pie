=======================
Зоны санитарной охраны.
=======================

.. _String : https://qgis.org/pyqgis/3.34/core/QgsFieldProxyModel.html#qgis.core.QgsFieldProxyModel.String
.. _Double : https://qgis.org/pyqgis/3.34/core/QgsFieldProxyModel.html#qgis.core.QgsFieldProxyModel.Double

.. contents:: Содержание
   :depth: 2

Отрисовка зон санитарной охраны элептической и квадратной формы по заданным радиусам и азимуту.

Подготовка данных
-----------------

Необходимо создать точечный слой ``PointGeometry`` в аттрибутивной таблице которого должны присутствовать следующие поля:

.. list-table:: Структура аттрибутивной таблицы
   :header-rows: 1

   * - Поле
     - Тип поля
     - Описание
   * - ``name``
     - `String`_
     - Назание скважины
   * - ``r1``
     - `Double`_
     - Сторона квадрата первой зоны
   * - ``r_n2``
     - `Double`_
     - "Северный" радиус эллипса второй зоны    
   * - ``r_s2``
     - `Double`_
     - "Южный" радиус эллипса второй зоны    
   * - ``r_w2``
     - `Double`_
     - "Западный" радиус эллипса второй зоны    
   * - ``r_o2``
     - `Double`_
     - "Восточный" радиус эллипса второй зоны    
   * - ``r_n3``
     - `Double`_
     - "Северный" радиус эллипса третьей зоны    
   * - ``r_s3``
     - `Double`_
     - "Южный" радиус эллипса третьей зоны    
   * - ``r_w3``
     - `Double`_
     - "Западный" радиус эллипса третьей зоны    
   * - ``r_o3``
     - `Double`_
     - "Восточный" радиус эллипса третьей зоны    

Ввод данных.
------------

В меню **QGis** выбрать пункт :menuselection:`Вектор  --> Мои скрипты --> Зоны СО`.
Откроется диалоговое окно:

.. image:: /image/zso.png
   :alt: Зона СО
   :height: 267px
   :width: 302px
   :scale: 70 %
   :align: center

В диалоговом окне выбрать слой со скважинами и определить угол азимута на который будет развернуты все зоны.
Зоны будут повернуты по часовой стрелке на указанный угол от северного направления.
При наличии выбранных объетов, опрецию можно применить только к выбранным объектам.
Для этого необходимо поставить "галочку" :menuselection:`Только выбранные объекты`.

Полученные результаты.
----------------------

.. list-table:: Результат
   :header-rows: 1

   * - Карта
     - Список слоев
   * - .. image:: /image/zso_map.png
          :alt: Зоны
          :height: 574px
          :width: 563px
          :align: center
          :scale: 70%
     - .. image:: /image/zso_layers.png
          :alt: Структура слоев
          :height: 146px
          :width: 240px
          :align: center
          :scale: 70%
